- name: Install GPG Dependency
  apt: name=gnupg2 state=latest
- name: Install Python Dependency
  apt: name=python3-apt state=latest
- name: Add the Docker GPG apt Key
  apt_key: url=https://download.docker.com/linux/ubuntu/gpg state=present
- name: Add the Docker Repository
  apt_repository: repo="deb https://download.docker.com/linux/ubuntu jammy stable" state=present
  register: apt_repository_output
- name: Install FastTrack
  apt: name=fasttrack-archive-keyring state=latest update_cache=true
- name: Install FastTrack Repo
  apt_repository: repo="deb https://fasttrack.debian.net/debian-fasttrack/ bookworm-fasttrack main contrib" state=present


# - name: Install packages
#   apt: name={{ item }} state=latest update_cache=true
#   loop: [git, wget, unzip, curl, docker-ce, tmux, fish, neofetch, cmatrix, nano, samba, python3]
#   register: apt_output
# - debug: var=apt_output

- name: Install apt packages.
  ansible.builtin.apt:
    pkg: "{{ apt.packages }}"
    state: present
    update_cache: true
  tags: apt

- name: Update apt packages
  ansible.builtin.apt:
    upgrade: full


- name: Create a user 'flippy with a home directory
  ansible.builtin.user:
    name: flippy
    shell: /usr/bin/fish
    groups: docker
    create_home: yes
    append: yes


    # dot flies
    # homebrew

